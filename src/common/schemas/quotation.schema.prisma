// Báo giá
enum QuotationStatus {
  pending
  confirmed
  rejected
}

enum QuatationType {
  customer
  supplier
}

model Quotations {
  id           Int       @id @default(autoincrement())
  code         String    @default(cuid())
  time_at      DateTime? @default(now())
  expired_date DateTime?
  note         String?
  type         QuatationType @default(supplier) // loại báo giá

  status       QuotationStatus @default(pending)
  files        Json?           @default("[]")
  is_confirmed Boolean?        @default(false)

  employee_id     Int? // nhan vien bao gia
  partner_id      Int? // Khach hang
  organization_id Int?

  organization Organizations? @relation(fields: [organization_id], references: [id])
  employee     Employees?     @relation(fields: [employee_id], references: [id])
  partner      Partners?      @relation(fields: [partner_id], references: [id])

  created_at        DateTime        @default(now())
  updated_at        DateTime        @updatedAt
  quotation_details CommonDetails[]

  @@map("quotations")
}
