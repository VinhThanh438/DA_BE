enum OrderType {
  purchase // Đơn đặt mua hàng
  production // Đơn hàng sản xuất
}

model Orders {
  id         Int       @id @default(autoincrement())
  code       String    @default(cuid())
  type       OrderType @default(purchase)
  address    String?
  phone      String?
  note       String?
  order_date DateTime @default(now())
  files      Json?     @default("[]")

  employee_id     Int?
  partner_id      Int?
  organization_id Int?

  partner      Partners?      @relation(fields: [partner_id], references: [id])
  employee     Employees?     @relation(fields: [employee_id], references: [id])
  organization Organizations? @relation(fields: [organization_id], references: [id])

  created_at             DateTime                @default(now())
  updated_at             DateTime                @updatedAt
  order_details          CommonDetails[]
  transaction_warehouses TransactionWarehouses[]

  @@map("orders")
  order_expenses OrderExpenses[]
  productions Productions[]
  receipts Receipts[]
  contracts Contracts[]
  invoices Invoices[]
  inventories Inventories[]
  purchase_requests PurchaseRequests[]
}
