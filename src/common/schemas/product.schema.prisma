model Products {
  id               Int         @id @default(autoincrement())
  name             String
  code             String      @default(cuid())
  vat              Float?
  packing_standard Float?
  note             String?
  type             ProductType

  product_group_id Int?
  unit_id          Int?

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  product_group ProductGroups? @relation(fields: [product_group_id], references: [id])
  unit          Units?         @relation(fields: [unit_id], references: [id])

  productUnits            ProductUnits[]
  ContractDetails         ContractDetails[]
  Quotation_order_datails QuotationOrderDetails[]
  InventoryDetails        InventoryDetails[]
  ProductionDetails       ProductionDetails[]
  Products                MaterialStandards[]     @relation("ProductRelation")
  Materials               MaterialStandards[]     @relation("MaterialRelation")
  MaterialBudgets         MaterialBudgets[]
  TransactionWarehouses   TransactionWarehouses[]

  @@map("products")
}

model Units {
  id   Int    @id @default(autoincrement())
  name String

  productUnits ProductUnits[]
  Product      Products[]

  @@map("units")
}

model ProductGroups {
  id       Int        @id @default(autoincrement())
  name     String
  products Products[]

  @@map("product_types")
}

model ProductUnits {
  id         Int @id @default(autoincrement())
  product_id Int
  unit_id    Int

  product Products @relation(fields: [product_id], references: [id])
  unit    Units    @relation(fields: [unit_id], references: [id])

  @@map("product_units")
}

enum ProductType {
  material // Vật tư
  product // Hàng hóa
}
