// enum CommonDetailType {
//   quotation
//   order
//   contract
//   invoice
// }

model CommonDetails {
  id       Int      @id @default(autoincrement())
  quantity Int?
  price    Decimal?
  discount Float?
  vat      Float? // %vat
  note     String?
  // type     CommonDetailType

  product_id Int?

  order_id     Int?
  quotation_id Int?
  contract_id  Int?
  invoice_id   Int?

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  product   Products?   @relation(fields: [product_id], references: [id], onDelete: Cascade)
  order     Orders?     @relation(fields: [order_id], references: [id], onDelete: Cascade)
  quotation Quotations? @relation(fields: [quotation_id], references: [id], onDelete: Cascade)
  contract  Contracts?  @relation(fields: [contract_id], references: [id], onDelete: Cascade)
  invoice   Invoices?   @relation(fields: [invoice_id], references: [id], onDelete: Cascade)

  @@map("common_details")
}
